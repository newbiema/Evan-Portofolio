<!DOCTYPE html>
<html lang="en" class="scroll-smooth" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Evan Jamaq — Front-End Developer Portfolio</title>
  <meta name="description" content="Evan Jamaq — Front-End developer. Selected projects, contact, and socials." />
  <meta property="og:title" content="Evan — Portfolio" />
  <meta property="og:description" content="Front-End developer with a passion for learning and building." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/img/avatar.png" />
  <link rel="icon" href="/img/avatar.png" />

  <!-- Tailwind + DaisyUI (single include) -->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root { --ring: 0 0% 100%; }
    html { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; }
    
    /* subtle enter animations */
    .reveal { opacity: 0; transform: translateY(12px); }
    .reveal.show { opacity: 1; transform: translateY(0); transition: opacity .5s ease, transform .5s ease; }
    
    /* nicer focus rings */
    :focus-visible { outline: 2px solid hsl(var(--ring)); outline-offset: 3px; }
    
    /* --- Mobile menu panel (sheet) --- */
    #mobile-menu-panel{opacity:0;transition:opacity .25s ease;}
    #mobile-menu-panel.open{opacity:1;}
    #mobile-menu-panel [data-sheet]{transform:translateY(-12px);transition:transform .25s ease;}
    #mobile-menu-panel.open [data-sheet]{transform:translateY(0);}
    
    /* Custom improvements */
    .console-window {
      background: #1a1a1a;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .console-header {
      background: rgba(0, 0, 0, 0.2);
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      padding: 12px 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .console-content {
      padding: 20px;
      font-family: 'Courier New', monospace;
    }
    
    .nav-link {
      position: relative;
      transition: color 0.2s ease;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: #3b82f6;
      transition: width 0.3s ease;
    }
    
    .nav-link:hover::after,
    .nav-link.text-primary::after {
      width: 100%;
    }
    
    .profile-img {
      border: 3px solid rgba(59, 130, 246, 0.2);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }
    
    .project-card {
      transition: all 0.3s ease;
      overflow: hidden;
    }
    
    .project-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
    }
    
    .skill-badge {
      background: rgba(100, 116, 139, 0.2);
      border-radius: 20px;
      padding: 4px 12px;
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .code-text {
      font-family: 'Courier New', monospace;
      color: #10b981;
    }
  </style>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
</head>
<body class="bg-base-100 text-base-content">
  <!-- NAVBAR -->
  <header class="navbar sticky top-0 z-50 bg-base-100/90 backdrop-blur-md border-b border-base-300 shadow-sm">
    <div class="container max-w-7xl mx-auto px-4">
      <div class="navbar">
        <div class="flex-1">
          <a href="#home" class="font-semibold text-lg">Evan<span class="text-primary">.</span></a>
        </div>
        <div class="flex-none gap-2">
          <nav class="hidden md:flex gap-8 items-center">
            <a href="#home" class="nav-link font-medium">About</a>
            <a href="#projects" class="nav-link font-medium">Projects</a>
            <a href="#contact" class="nav-link font-medium">Contact</a>
          </nav>
          <label class="swap swap-rotate ml-2" aria-label="Toggle dark mode">
            <input id="theme-toggle" type="checkbox" />
            <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64 17l-.71.71a.996.996 0 101.41 1.41l.71-.71A8.963 8.963 0 0012 21a9 9 0 100-18c-.89 0-1.74.15-2.54.42A7 7 0 005.64 17z"/></svg>
            <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM1 13h3v-2H1v2zm10 10h2v-3h-2v3zM4.22 19.78l1.41 1.41 1.8-1.79-1.42-1.42-1.79 1.8zM20 11V9h-3v2h3zm-7-7h-2v3h2V4zm5.78.22l-1.41-1.41-1.8 1.79 1.42 1.42 1.79-1.8zM17.24 19.16l1.79 1.8 1.41-1.41-1.79-1.8-1.41 1.41z"/></svg>
          </label>
          <!-- Mobile hamburger -->
          <button id="menu-toggle" class="btn btn-ghost md:hidden" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu-panel">
            <i class="fa-solid fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu Panel (sheet) -->
    <div id="mobile-menu-panel" class="fixed inset-0 z-40 md:hidden pointer-events-none">
      <div data-backdrop class="absolute inset-0 bg-base-300/50 backdrop-blur-sm opacity-100"></div>
      <div data-sheet class="relative mx-auto mt-2 w-[95%] max-w-lg rounded-2xl border border-base-300 bg-base-100 p-4 shadow-2xl">
        <div class="flex items-center justify-between">
          <span class="font-semibold text-lg">Menu</span>
          <button id="menu-close" class="btn btn-ghost btn-sm" aria-label="Close menu"><i class="fa-solid fa-xmark text-lg"></i></button>
        </div>
        <nav class="mt-4">
          <ul class="menu menu-lg gap-2">
            <li><a class="mm-link rounded-lg" href="#home"><i class="fa-solid fa-user"></i> About</a></li>
            <li><a class="mm-link rounded-lg" href="#projects"><i class="fa-solid fa-diagram-project"></i> Projects</a></li>
            <li><a class="mm-link rounded-lg" href="#contact"><i class="fa-solid fa-envelope"></i> Contact</a></li>
          </ul>
        </nav>
        <div class="mt-6 flex gap-3 justify-center">
          <a class="btn btn-sm btn-outline" href="https://www.linkedin.com/in/evan-jamaq-9b7159283/" target="_blank" rel="noreferrer"><i class="fa-brands fa-linkedin"></i></a>
          <a class="btn btn-sm btn-outline" href="mailto:evanjamaq123@gmail.com"><i class="fa-solid fa-envelope"></i></a>
          <a class="btn btn-sm btn-outline" href="https://github.com/newbiema" target="_blank" rel="noreferrer"><i class="fa-brands fa-github"></i></a>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO / ABOUT -->
  <section id="home" class="min-h-[60vh] flex items-center py-10">
    <div class="container max-w-7xl mx-auto px-4 grid md:grid-cols-[320px,1fr] gap-8">
      <!-- Profile Card - Tetap seperti semula, hanya diperbaiki styling-nya -->
      <div class="reveal">
        <div class="card bg-base-200 border border-base-300 shadow-md">
          <div class="card-body items-center text-center">
            <img src="/img/profil.JPG" alt="Evan profile picture" class="profile-img mask mask-squircle w-32 h-32 object-cover" loading="lazy" />
            <h1 class="text-xl font-semibold mt-4">@n4ve.666</h1>
            <p class="text-base-content/70 mt-1">"I live to learn everything."</p>
            <div class="flex flex-wrap gap-2 justify-center mt-4">
              <a class="btn btn-sm btn-ghost" href="https://www.linkedin.com/in/evan-jamaq-9b7159283/" target="_blank" rel="noreferrer">
                <i class="fa-brands fa-linkedin me-2"></i>LinkedIn
              </a>
              <a class="btn btn-sm btn-ghost" href="mailto:evanjamaq123@gmail.com">
                <i class="fa-solid fa-envelope me-2"></i>Email
              </a>
              <a class="btn btn-sm btn-ghost" href="https://github.com/newbiema" target="_blank" rel="noreferrer">
                <i class="fa-brands fa-github me-2"></i>GitHub
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Console Window - Tetap seperti semula, hanya diperbaiki styling-nya -->
      <aside class="reveal">
        <div class="console-window">
          <div class="console-header">
            <div class="flex items-center justify-between">
              <div class="flex gap-2">
                <span class="w-3 h-3 rounded-full bg-error"></span>
                <span class="w-3 h-3 rounded-full bg-warning"></span>
                <span class="w-3 h-3 rounded-full bg-success"></span>
              </div>
              <p class="text-sm opacity-70">bash</p>
            </div>
          </div>
          <div class="console-content">
            <pre class="code-text whitespace-pre-wrap">$$ console.log(about_me);
{
  name: "Evan Jamaq",
  role: "Full-Stack Developer",
  location: "Indonesia",
  passion: "Learning and building web experiences",
  tech_stack: {
    front_end: ["HTML", "CSS", "JavaScript", "React", "Next.js", "Tailwind"],
    back_end: ["Python", "PHP", "Flask", "Laravel"],
    database: ["MySQL", "Firebase"],
    tools: ["Git", "GitHub", "Vercel"]
  },
  status: "Always learning and improving"
}
</pre>
            <div class="mt-4 flex items-center">
              <span class="code-text">$ </span>
              <span class="typing-animation ml-2 code-text">npm start creativity</span>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects" class="py-16 border-t border-base-300">
    <div class="container max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between mb-8">
        <h2 class="text-2xl font-semibold">Projects</h2>
        <span class="text-sm opacity-70">$ console.log(my_projects);</span>
      </div>

      <!-- Controls: Search + Tech Filters -->
      <div class="mb-10 flex flex-col md:flex-row gap-4 md:items-center justify-between">
        <label class="input input-bordered flex items-center gap-2 md:w-96">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="project-search" type="text" class="grow" placeholder="Search projects (title, description)" />
        </label>
        <div class="flex flex-wrap gap-2 justify-center" id="tech-filters" aria-label="Tech filters">
          <button class="btn btn-xs tech-filter btn-primary" data-tech="all" aria-pressed="true">All</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="html">HTML</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="css">CSS</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="js">JS</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="tailwind">Tailwind</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="next.js">Next.js</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="react">React</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="api">API</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="vanilla js">Vanilla JS</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="github pages">GitHub Pages</button>
          <button class="btn btn-xs btn-outline tech-filter" data-tech="marketing">Marketing</button>
        </div>
      </div>

      <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Project Cards - Tetap seperti semula, hanya diperbaiki styling-nya -->
        <li class="reveal" data-tech="next.js,tailwind">
          <a href="https://ayu-songket-tetebatu.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/Ayu Songket.png" alt="Ayu Songket Tetebatu" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">Ayu Songket Tetebatu</h3>
              <p class="text-sm opacity-80">E‑commerce for songket fabrics from North Tetebatu Village, East Lombok.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">Next.js</span>
                <span class="badge badge-ghost">Tailwind</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="html,css,js">
          <a href="https://cuy-joki.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/cuyjoki.png" alt="CuyJoki" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">CuyJoki Website</h3>
              <p class="text-sm opacity-80">Simple site where jockeys do assignments.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">HTML</span>
                <span class="badge badge-ghost">CSS</span>
                <span class="badge badge-ghost">JS</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="html,css,js">
          <a href="https://desakembangkuning.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/kembangkuning (1).png" alt="Kembang Kuning" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">Desa Kembang Kuning</h3>
              <p class="text-sm opacity-80">Simple website made with HTML, CSS, and JavaScript.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">HTML</span>
                <span class="badge badge-ghost">CSS</span>
                <span class="badge badge-ghost">JS</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="html,tailwind">
          <a href="https://xii-1-ips-smansik.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/kelas v1.png" alt="XII IPS 1 v1" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">XII IPS 1 — v1</h3>
              <p class="text-sm opacity-80">Class website with basic features.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">HTML</span>
                <span class="badge badge-ghost">Tailwind</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="html,css,js">
          <a href="https://xii-ips-1-v2.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/kelas v2.png" alt="XII IPS 1 v2" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">XII IPS 1 — v2</h3>
              <p class="text-sm opacity-80">Class website with added features.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">HTML</span>
                <span class="badge badge-ghost">CSS</span>
                <span class="badge badge-ghost">JS</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="github pages,html,css,js">
          <a href="https://newbiema.github.io/Web_evan/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/retro.png" alt="Retro Portfolio" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">MyPortfolio (Retro)</h3>
              <p class="text-sm opacity-80">Retro theme portfolio.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">GitHub Pages</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="next.js">
          <a href="https://sora-top-up.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/top up.png" alt="Sora Top Up" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">Sora Top Up</h3>
              <p class="text-sm opacity-80">Buy game diamonds online.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">Next.js</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="vanilla js,js">
          <a href="https://cek-kodam-by-evan.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/Cek Khodam.png" alt="Cek Khodam" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">Cek Khodam</h3>
              <p class="text-sm opacity-80">Just for fun Khodam checker.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">Vanilla JS</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="marketing,html,css,js">
          <a href="https://landing-hero-peach.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/Landing Hero.png" alt="Landing Hero" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">Landing Hero</h3>
              <p class="text-sm opacity-80">Landing page service website.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">Marketing</span>
              </div>
            </div>
          </a>
        </li>

        <li class="reveal" data-tech="react,api">
          <a href="https://my-playlist1.vercel.app/" class="group project-card card bg-base-200 hover:bg-base-300 transition-all border border-base-300 h-full">
            <figure class="overflow-hidden">
              <img src="/img/My Playlist.png" alt="My Playlist" class="w-full h-44 object-cover group-hover:scale-105 transition duration-500" loading="lazy" />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-base">My Playlist</h3>
              <p class="text-sm opacity-80">In‑progress music streaming web app.</p>
              <div class="mt-2 flex flex-wrap gap-2 text-xs opacity-80">
                <span class="badge badge-ghost">React</span>
                <span class="badge badge-ghost">API</span>
              </div>
            </div>
          </a>
        </li>
      </ul>
    </div>
  </section>

  <!-- CONTACT / FOOTER -->
  <footer id="contact" class="border-t border-base-300 bg-base-200">
    <div class="container max-w-7xl mx-auto px-4 py-12 space-y-8">
      <div class="text-center">
        <h2 class="text-2xl font-bold mb-4">Get In Touch</h2>
        <p class="text-base-content/70 max-w-lg mx-auto mb-6">I'm always open to discussing new opportunities, projects, or just having a chat about web development.</p>
        
        <div class="flex gap-4 justify-center flex-wrap">
          <a class="btn btn-primary" href="mailto:evanjamaq123@gmail.com"><i class="fa-solid fa-envelope me-2"></i>Email Me</a>
          <a class="btn btn-outline" href="https://wa.me/6287892219615?text=Hai%20Evan%F0%9F%91%8B" target="_blank" rel="noreferrer"><i class="fa-brands fa-whatsapp me-2"></i>WhatsApp</a>
        </div>
      </div>

      <div class="flex flex-col md:flex-row justify-between items-center gap-6 pt-8 border-t border-base-300">
        <div>
          <a href="#home" class="font-bold text-xl flex items-center gap-2">
            <span class="text-primary">Evan</span>
          </a>
          <p class="text-sm opacity-70 mt-1">Front-End Developer</p>
        </div>
        
        <div class="flex gap-4">
          <a class="btn btn-ghost btn-sm" href="https://www.linkedin.com/in/evan-jamaq-9b7159283/" target="_blank" rel="noreferrer"><i class="fa-brands fa-linkedin"></i></a>
          <a class="btn btn-ghost btn-sm" href="https://github.com/newbiema" target="_blank" rel="noreferrer"><i class="fa-brands fa-github"></i></a>
          <a class="btn btn-ghost btn-sm" href="https://www.instagram.com/n4ve.666/" target="_blank" rel="noreferrer"><i class="fa-brands fa-instagram"></i></a>
        </div>
      </div>

      <p class="text-center text-sm opacity-70 pt-4 border-t border-base-300">Copyright &copy; 2024 — Evan Jamaq. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Mobile menu (improved sheet)
    const menuBtn = document.getElementById('menu-toggle');
    const panel = document.getElementById('mobile-menu-panel');
    const closeBtn = document.getElementById('menu-close');
    const sheetEl = panel?.querySelector('[data-sheet]');
    const backdropEl = panel?.querySelector('[data-backdrop]');
    const mmLinks = panel?.querySelectorAll('.mm-link') || [];

    function setMenu(open){
      if(!panel) return;
      panel.classList.toggle('open', open);
      panel.classList.toggle('pointer-events-none', !open);
      menuBtn?.setAttribute('aria-expanded', String(open));
      document.body.classList.toggle('overflow-hidden', open);
      if(open){ sheetEl?.focus(); }
    }
    menuBtn?.addEventListener('click', ()=> setMenu(!panel.classList.contains('open')));
    closeBtn?.addEventListener('click', ()=> setMenu(false));
    backdropEl?.addEventListener('click', ()=> setMenu(false));
    mmLinks.forEach(a => a.addEventListener('click', ()=> setMenu(false)));
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') setMenu(false); });

    // Theme toggle (persist)
    const themeToggle = document.getElementById('theme-toggle');
    const root = document.documentElement;
    function applyTheme(dark) {
      root.setAttribute('data-theme', dark ? 'dark' : 'light');
      themeToggle.checked = dark;
      localStorage.setItem('theme', dark ? 'dark' : 'light');
    }
    // init
    const stored = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    applyTheme(stored ? stored === 'dark' : prefersDark);
    themeToggle.addEventListener('change', (e) => applyTheme(e.target.checked));

    // Scrollspy — highlight active link
    const sections = ['home','projects','contact'];
    const navItems = Array.from(document.querySelectorAll('a[href^="#"]')).filter(a => sections.includes(a.getAttribute('href').slice(1)));
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const id = entry.target.getAttribute('id');
        document.querySelectorAll(`a[href="#${id}"]`).forEach(link => {
          if (entry.isIntersecting) link.classList.add('text-primary');
          else link.classList.remove('text-primary');
        });
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
    sections.forEach(id => { const el = document.getElementById(id); if (el) observer.observe(el); });

    // Reveal on scroll (reduced motion friendly)
    const reveals = document.querySelectorAll('.reveal');
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced) {
      const revObs = new IntersectionObserver((entries) => {
        entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show'); revObs.unobserve(e.target); } });
      }, { threshold: 0.1 });
      reveals.forEach(el => revObs.observe(el));
    } else { reveals.forEach(el => el.classList.add('show')); }
      // --- Filtering & Search ---
    const searchInput = document.getElementById('project-search');
    const filterBar = document.getElementById('tech-filters');
    const filterBtns = Array.from(document.querySelectorAll('.tech-filter'));
    const projectCards = Array.from(document.querySelectorAll('#projects [data-tech]'));
    const activeTech = new Set();

    function applyFilters() {
      const q = (searchInput?.value || '').toLowerCase().trim();
      projectCards.forEach(card => {
        const techs = (card.getAttribute('data-tech') || '').toLowerCase().split(',').map(s => s.trim());
        const title = card.querySelector('.card-title')?.textContent.toLowerCase() || '';
        const desc = card.querySelector('p')?.textContent.toLowerCase() || '';
        const matchTech = activeTech.size === 0 || [...activeTech].every(t => techs.includes(t));
        const matchSearch = !q || title.includes(q) || desc.includes(q);
        card.classList.toggle('hidden', !(matchTech && matchSearch));
      });
    }

    // Toggle tech buttons (multi-select); 'All' clears selection
    filterBar?.addEventListener('click', (e) => {
      const btn = e.target.closest('.tech-filter');
      if (!btn) return;
      const value = btn.dataset.tech;
      if (value === 'all') {
        activeTech.clear();
        filterBtns.forEach(b => { b.classList.remove('btn-primary'); b.classList.add('btn-outline'); b.setAttribute('aria-pressed','false'); });
        e.currentTarget.querySelector('[data-tech="all"]').classList.add('btn-primary');
        e.currentTarget.querySelector('[data-tech="all"]').classList.remove('btn-outline');
        e.currentTarget.querySelector('[data-tech="all"]').setAttribute('aria-pressed','true');
      } else {
        // deactivate 'All'
        const allBtn = e.currentTarget.querySelector('[data-tech="all"]');
        allBtn.classList.remove('btn-primary');
        allBtn.classList.add('btn-outline');
        allBtn.setAttribute('aria-pressed','false');
        // toggle current
        if (activeTech.has(value)) { 
          activeTech.delete(value); 
          btn.classList.remove('btn-primary');
          btn.classList.add('btn-outline');
          btn.setAttribute('aria-pressed','false'); 
        } else { 
          activeTech.add(value); 
          btn.classList.add('btn-primary');
          btn.classList.remove('btn-outline');
          btn.setAttribute('aria-pressed','true'); 
        }
        // if none selected, return to 'All'
        if (activeTech.size === 0) { 
          allBtn.classList.add('btn-primary'); 
          allBtn.classList.remove('btn-outline');
          allBtn.setAttribute('aria-pressed','true'); 
        }
      }
      applyFilters();
    });

    searchInput?.addEventListener('input', applyFilters);
    applyFilters();
  </script>
</body>
</html>